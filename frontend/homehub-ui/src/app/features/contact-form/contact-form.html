<section id="contact" class="form-section">
  <div class="container">
    <div class="section-header">
      <h2 class="gradient-text">–°–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –Ω–∞—Å</h2>
      <p>–ò–∑–ø—Ä–∞—Ç–µ—Ç–µ –Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏–µ –∏ —â–µ —Å–µ —Å–≤—ä—Ä–∂–µ–º —Å –≤–∞—Å –≤—ä–∑–º–æ–∂–Ω–æ –Ω–∞–π-—Å–∫–æ—Ä–æ</p>
    </div>
    <div class="form-container">
      <form class="contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <!-- Personal Information -->
        <div class="form-section-title">
          <h3>–õ–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-name">–í–∞—à–µ—Ç–æ –∏–º–µ *</label>
            <input 
              type="text" 
              id="contact-name" 
              formControlName="name"
              [class.error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
          </div>
          <div class="form-group">
            <label for="contact-email">–ò–º–µ–π–ª –∞–¥—Ä–µ—Å *</label>
            <input 
              type="email" 
              id="contact-email" 
              formControlName="email"
              [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="contact-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input 
              type="tel" 
              id="contact-phone" 
              formControlName="phone" 
              placeholder="+359 888 123 456"
              (input)="formatPhoneNumber($event)">
          </div>
          <div class="form-group">
            <label for="contact-company">–ö–æ–º–ø–∞–Ω–∏—è</label>
            <input 
              type="text" 
              id="contact-company" 
              formControlName="company" 
              placeholder="–í–∞—à–∞—Ç–∞ –∫–æ–º–ø–∞–Ω–∏—è">
          </div>
        </div>

        <!-- Contact Details -->
        <div class="form-section-title">
          <h3>–î–µ—Ç–∞–π–ª–∏ –∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç</h3>
        </div>
        <div class="form-group">
          <label for="contact-subject">–¢–µ–º–∞ *</label>
          <select id="contact-subject" formControlName="subject"
                  [class.error]="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched">
            <option value="">–ò–∑–±–µ—Ä–∏ —Ç–µ–º–∞</option>
            <option value="general">–û–±—â–∏ –≤—ä–ø—Ä–æ—Å–∏</option>
            <option value="support">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞</option>
            <option value="sales">–ü—Ä–æ–¥–∞–∂–±–∏</option>
            <option value="partnership">–ü–∞—Ä—Ç–Ω—å–æ—Ä—Å—Ç–≤–æ</option>
            <option value="complaint">–ñ–∞–ª–±–∞</option>
            <option value="suggestion">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</option>
            <option value="other">–î—Ä—É–≥–æ</option>
          </select>
        </div>

        <!-- Priority Selection -->
        <div class="form-group">
          <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞</label>
          <div class="radio-group">
            <label class="radio-label" [class.active]="contactForm.get('priority')?.value === 'low'">
              <input type="radio" formControlName="priority" value="low">
              <span class="radio-custom"></span>
              –ù–∏—Å—ä–∫
            </label>
            <label class="radio-label" [class.active]="contactForm.get('priority')?.value === 'medium'">
              <input type="radio" formControlName="priority" value="medium">
              <span class="radio-custom"></span>
              –°—Ä–µ–¥–µ–Ω
            </label>
            <label class="radio-label" [class.active]="contactForm.get('priority')?.value === 'high'">
              <input type="radio" formControlName="priority" value="high">
              <span class="radio-custom"></span>
              –í–∏—Å–æ–∫
            </label>
            <label class="radio-label" [class.active]="contactForm.get('priority')?.value === 'urgent'">
              <input type="radio" formControlName="priority" value="urgent">
              <span class="radio-custom"></span>
              –°–ø–µ—à–µ–Ω
            </label>
          </div>
        </div>

        <!-- Preferred Contact Method -->
        <div class="form-group">
          <label>–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω –Ω–∞—á–∏–Ω –∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç</label>
          <div class="checkbox-group" formGroupName="contactMethods">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="email">
              <span class="checkmark"></span>
              –ò–º–µ–π–ª
            </label>
            <label class="checkbox-label">
              <input type="checkbox" formControlName="phone">
              <span class="checkmark"></span>
              –¢–µ–ª–µ—Ñ–æ–Ω
            </label>
            <label class="checkbox-label">
              <input type="checkbox" formControlName="sms">
              <span class="checkmark"></span>
              SMS
            </label>
            <label class="checkbox-label">
              <input type="checkbox" formControlName="whatsapp">
              <span class="checkmark"></span>
              WhatsApp
            </label>
          </div>
        </div>

        <!-- Date and Time -->
        <div class="form-row">
          <div class="form-group">
            <label for="contact-date">–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∞ –¥–∞—Ç–∞ –∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç</label>
            <input 
              type="date" 
              id="contact-date" 
              formControlName="preferredDate"
              [min]="minDate">
          </div>
          <div class="form-group">
            <label for="contact-time">–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–æ –≤—Ä–µ–º–µ</label>
            <select id="contact-time" formControlName="preferredTime">
              <option value="">–ò–∑–±–µ—Ä–∏ –≤—Ä–µ–º–µ</option>
              <option value="morning">–°—É—Ç—Ä–µ—à–Ω–æ –≤—Ä–µ–º–µ (9:00 - 12:00)</option>
              <option value="afternoon">–°–ª–µ–¥–æ–±–µ–¥–Ω–æ –≤—Ä–µ–º–µ (12:00 - 17:00)</option>
              <option value="evening">–í–µ—á–µ—Ä–Ω–æ –≤—Ä–µ–º–µ (17:00 - 20:00)</option>
              <option value="anytime">–í—Å—è–∫–∞–∫–≤–æ –≤—Ä–µ–º–µ</option>
            </select>
          </div>
        </div>

        <!-- File Upload -->
        <div class="form-group">
          <label for="contact-files">–ü—Ä–∏–∫–∞—á–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ</label>
          <div class="file-upload">
            <input 
              type="file" 
              id="contact-files" 
              multiple 
              accept=".pdf,.doc,.docx,.jpg,.png,.zip"
              (change)="onFilesChange($event)">
            <label for="contact-files" class="file-label" [class.has-file]="selectedFiles.length > 0">
              <span class="upload-icon">üìé</span>
              <span class="upload-text">{{ fileUploadText }}</span>
            </label>
          </div>
        </div>

        <!-- Message -->
        <div class="form-group">
          <label for="contact-message">–°—ä–æ–±—â–µ–Ω–∏–µ *</label>
          <textarea 
            id="contact-message" 
            formControlName="message" 
            rows="5" 
            placeholder="–ù–∞–ø–∏—à–µ—Ç–µ –≤–∞—à–µ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ —Ç—É–∫..."
            [class.error]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"></textarea>
        </div>

        <!-- Additional Options -->
        <div class="form-section-title">
          <h3>–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –æ–ø—Ü–∏–∏</h3>
        </div>
        <div class="form-group">
          <label for="contact-referral">–ö–∞–∫ –Ω–∞—É—á–∏—Ö—Ç–µ –∑–∞ –Ω–∞—Å?</label>
          <select id="contact-referral" formControlName="referral">
            <option value="">–ò–∑–±–µ—Ä–∏ –æ–ø—Ü–∏—è</option>
            <option value="google">Google —Ç—ä—Ä—Å–µ–Ω–µ</option>
            <option value="social">–°–æ—Ü–∏–∞–ª–Ω–∏ –º—Ä–µ–∂–∏</option>
            <option value="friend">–ü—Ä–∏—è—Ç–µ–ª/–∫–æ–ª–µ–≥–∞</option>
            <option value="advertisement">–†–µ–∫–ª–∞–º–∞</option>
            <option value="event">–°—ä–±–∏—Ç–∏–µ/–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è</option>
            <option value="other">–î—Ä—É–≥–æ</option>
          </select>
        </div>

        <div class="form-group checkbox-group" formGroupName="additionalOptions">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="newsletter">
            <span class="checkmark"></span>
            –ò—Å–∫–∞–º –¥–∞ –ø–æ–ª—É—á–∞–≤–∞–º –Ω–æ–≤–∏–Ω–∏ –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
          </label>
          <label class="checkbox-label">
            <input type="checkbox" formControlName="marketing">
            <span class="checkmark"></span>
            –°—ä–≥–ª–∞—Å–µ–Ω —Å—ä–º –¥–∞ –ø–æ–ª—É—á–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∏ —Å—ä–æ–±—â–µ–Ω–∏—è
          </label>
          <label class="checkbox-label">
            <input type="checkbox" formControlName="callback">
            <span class="checkmark"></span>
            –ò—Å–∫–∞–º –æ–±—Ä–∞—Ç–Ω–∞ –≤—Ä—ä–∑–∫–∞ –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ 24 —á–∞—Å–∞
          </label>
        </div>

        <!-- Range Slider -->
        <div class="form-group">
          <label for="contact-budget">–ë—é–¥–∂–µ—Ç –∑–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–≤ –ª–µ–≤–∞)</label>
          <div class="range-container">
            <input 
              type="range" 
              id="contact-budget" 
              formControlName="budget" 
              min="1000" 
              max="100000" 
              step="1000">
            <div class="range-value">
              <span id="budget-value">{{ budgetValue }}</span> –ª–≤.
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="isLoading">
            {{ submitButtonText }}
          </button>
          <button type="button" class="btn btn-secondary" (click)="resetForm()">
            –ò–∑—á–∏—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
